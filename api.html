<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>3D Model Repository Homepage</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
		<style>
			.response {
				padding-top: 10px;
			}
			.panel:target h3 {
				text-decoration: underline;
			}
		</style>
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-static-top" style="margin-bottom:0">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="logged_in.html">3D Model Repository</a>
				</div>
				<div id="navbar" class="navbar-collapse collapse in" aria-expanded="true" style>
					<ul class="nav navbar-nav navbar-right">
						<li><a href="logged_out.html">Logout</a></li>
						<li><a href="api.html">API Docs</a></li>
						<li><a href="downloads.html">Downloads</a></li>
						<li><a href="upload.html">Upload a model</a></li>
						<li><a href="user.html">User Page</a></li>
					</ul>
					<form class="navbar-form navbar-left" action="results.html" method="GET">
						<input type="text" class="form-control" placeholder="Search...">
					</form>
				</div>
			</div>
		</nav>
		<div class="container">
			<div class="row">
				<h1>API Documentation</h1>
				<div class="col-md-2">
					<ul>
						<h2>Model</h2>
						<li><a href="#info">Info Get</a></li>
						<li><a href="#model">Model Get</a></li>
						<h2>Lookups</h2>
						<li><a href="#tag">Tag Lookup</a></li>
						<li><a href="#category">Category Lookup</a></li>
						<h2>Searches</h2>
						<li><a href="#latlon">Coordinate Search</a></li>
						<li><a href="#full">Full Search</a></li>
					</ul>
				</div>
				<div class="col-md-10">
					<h2>Model</h2>
					<div class="panel panel-primary" id="info">
						<div class="panel-heading">
							<h3 class="panel-title">Info Get</h3>
						</div>
						<div class="panel-body">
							<p>Returns the model information for the specified model id.</p>
							<span class="label label-success">GET</span>
							<span class="label label-default">/api/info/&lt;int:modelid&gt;</span>
							<p class="response">Sample Response:
<pre><code>{
	"id": 423,
	"title": "Eiffel Tower",
	"lat": 48.8583,
	"lon": 2.2945,
	"desc": "A model of the world famous Eiffel Tower",
	"tags": {
		"shape": "pyramidal",
		"building": "yes",
		"tourism": "attraction",
	}
	"author": "n42k",
	"date": "2017-03-28",
	"categories": ["monuments", "tall"],
	"comments": [
		{
			"author": "n42k",
			"body": "I've technically been here!"
		},
		{
			"author": "n42k",
			"body": "test comment"
		}
	]
}</code></pre>
						</div>
					</div>
					<div class="panel panel-primary" id="model">
						<div class="panel-heading">
							<h3 class="panel-title">Model Get</h3>
						</div>
						<div class="panel-body">
							<p>Returns a zip with the model of the specified model id.</p>
							<span class="label label-success">GET</span>
							<span class="label label-default">/api/model/&lt;int:modelid&gt;</span>
							<p class="response">Sample Response: a zip file.</p>
						</div>
					</div>
					<h2>Lookups</h2>
					<div class="panel panel-primary" id="tag">
						<div class="panel-heading">
							<h3 class="panel-title">Tag Lookup</h3>
						</div>
						<div class="panel-body">
							<p>Returns model ids that have the specified tag as one of their tags. Specifying the page id is optional.</p>
							<span class="label label-success">GET</span>
							<span class="label label-default">/api/tag/&lt;string:tag&gt;/&lt;int:pageid&gt;</span>
							<p class="response">Sample Response:</p>
							<pre><code>[3, 5]</pre></code>
						</div>
					</div>
					<div class="panel panel-primary" id="category">
						<div class="panel-heading">
							<h3 class="panel-title">Category Lookup</h3>
						</div>
						<div class="panel-body">
							<p>Returns model ids that have the specified category as one of their categories. Specifying the page id is optional.</p>
							<span class="label label-success">GET</span>
							<span class="label label-default">/api/category/&lt;string:tag&gt;/&lt;int:pageid&gt;</span>
							<p class="response">Sample Response:</p>
							<pre><code>[6, 8]</pre></code>
						</div>
					</div>
					<h2>Searches</h2>
					<div class="panel panel-primary" id="latlon">
						<div class="panel-heading">
							<h3 class="panel-title">Latitude and Longitude Search</h3>
						</div>
						<div class="panel-body">
							<p>Returns model ids that have the specified category as one of their categories. Specifying the page id is optional.</p>
							<span class="label label-success">GET</span>
							<span class="label label-default">/api/search/point/&lt;float:lat&gt;/&lt;float:lon&gt;/&lt;float:range&gt;/&lt;int:pageid&gt;</span>
							<p class="response">Sample Response:</p>
							<pre><code>[2, 10, 17]</pre></code>
						</div>
					</div>
					<div class="panel panel-primary" id="full">
						<div class="panel-heading">
							<h3 class="panel-title">Full Search</h3>
						</div>
						<div class="panel-body">
							<p>Permits combining various criteria to find the exact kinds of models we need. Search query is sent in the request body. If any parameter is not specified, it's ignored and won't be filtered from the results.</p>
							<p>Note: the "title" attribute does what is described in the "Title Search" endpoint, and the "text" attribute what is described in the "Text Search" endpoint.</p>
							<span class="label label-success">GET</span>
							<span class="label label-default">/api/search/full</span>
							<p class="response">Sample request body:</p>
<pre><code>{
	"lat": 48.8583,
	"lon": 2.2945,
	"range": 1000,
	"title": "Eiffel",
	"text": "steel",
	"tags": {
		"shape": "pyramidal",
		"building": "yes"
	},
	"categories": [
		"monuments",
		"tall"
	],
	"page": 1,
	"author": "n42k"
}</pre></code>
							<p class="response">Sample Response:</p>
							<pre><code>[6, 8]</pre></code>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	</body>
</html>
